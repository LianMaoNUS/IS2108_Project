{% extends 'customer_website/base.html' %}
{% load static %}

{% block title %}Order Confirmation - AuroraMart{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'customer_website/css/checkout.css' %}">
<link rel="stylesheet" href="{% static 'customer_website/css/order_confirmation.css' %}">
{% endblock %}

{% block content %}
<div class="confirmation-container">
    <div class="confirmation-header">
        <div class="success-icon">
            <i class="fa-solid fa-check-circle"></i>
        </div>
        <h1>Order Confirmed!</h1>
        <p>Thank you for your purchase. Your order has been successfully placed.</p>
        <div class="order-id">
            <strong>Order ID: {{ order.order_id }}</strong>
        </div>
    </div>

    <div class="order-details">
        <h2>Order Details</h2>
        <div class="order-info">
            <p><strong>Order Date:</strong> {{ order.order_date|date:"F d, Y g:i A" }}</p>
            <p><strong>Order Status:</strong> <span class="status-Pending">Pending</span></p>
            <p><strong>Shipping Address:</strong> {{ order.shipping_address }}</p>
            {% if order.order_notes %}
                <p><strong>Order Notes:</strong> {{ order.order_notes }}</p>
            {% endif %}
        </div>

        <div class="order-items">
            <h3>Items Ordered</h3>
            {% for item in order_items %}
            <div class="order-item">
                <div class="item-info">
                    <h4>{{ item.product.product_name }}</h4>
                    <p>SKU: {{ item.product.sku }} | Quantity: {{ item.quantity }} Ã— {{ currency_symbol }}{{ item.converted_price|floatformat:2 }}</p>
                </div>
                <div class="item-price">
                    {{ currency_symbol }}{{ item.item_total|floatformat:2 }}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="order-total">
            <div class="total-amount">
                <strong>Total: {{ currency_symbol }}{{ order_total|floatformat:2 }}</strong>
            </div>
        </div>
    </div>

    <div class="actions">
        <a href="{% url 'customer_home' %}" class="btn btn-primary">
            <i class="fa-solid fa-home"></i>
            Continue Shopping
        </a>
        <a href="{% url 'profile' %}" class="btn btn-secondary">
            <i class="fa-solid fa-user"></i>
            View Order History
        </a>
    </div>
</div>
{% endblock %}